var h=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(i,e)=>{var n={};for(var t in i)g.call(i,t)&&e.indexOf(t)<0&&(n[t]=i[t]);if(i!=null&&h)for(var t of h(i))e.indexOf(t)<0&&w.call(i,t)&&(n[t]=i[t]);return n};const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};S();const T=({id:i,zIndex:e})=>{const n=document.createElement("div");n.style.display="none",n.style.zIndex=String(e||10),n.classList.add("loader");const t=document.createElement("div");return t.classList.add("inner"),i&&(n.id=i),n.appendChild(t),n},v={Services:{swapi:{baseURL:"https://swapi.dev/api"}}},L=async(i,e)=>{y(!0);const n=await fetch(i,e).then(t=>t.json());return y(!1),n},y=i=>{const e=document.getElementById("mainLoader");if(!e){console.error("Main loader not found!");return}i?e.style.display!=="flex"&&(e.style.display="flex"):e.style.display!=="none"&&(e.style.display="none")},x=(i,e)=>{const n=[];for(;i.length;)n.push(i.splice(0,e));return n},B=/https:\/\/swapi\.dev\/api\/starships\/([0-9]*)\//,M=async i=>L(`${v.Services.swapi.baseURL}/films/${i}`).then(({starships:e,episode_id:n,title:t})=>({starships:e.map(s=>{const a=B.exec(s);if(a)return Number(a[1])}).filter(s=>s!==void 0),episode_id:n,title:t})),$=async i=>L(`${v.Services.swapi.baseURL}/starships/${i}`).then(({name:e,model:n,manufacturer:t,cost_in_credits:s,length:a,max_atmosphering_speed:o,crew:r,passengers:d,cargo_capacity:c})=>({name:e,model:n,manufacturer:t,cost_in_credits:s,length:a,max_atmosphering_speed:o,crew:r,passengers:d,cargo_capacity:c})),k=(t,n)=>{var s=t,{starships:i}=s,e=f(s,["starships"]);const a=document.createElement("div");a.classList.add("movie");const o=(d,c)=>{const l=document.createElement("div");l.classList.add("item");const u=document.createElement("span");u.classList.add("key"),u.innerText=`${d}:`,l.appendChild(u);const p=document.createElement("span");return p.classList.add("value"),p.innerText=String(c),l.appendChild(p),l};a.appendChild(o("Title",e.title)),a.appendChild(o("Episode",String(e.episode_id)));const r=document.createElement("button");return r.innerText="Show starships",r.classList.add("default-button"),r.onclick=n,a.appendChild(r),a},I=i=>{const e=document.createElement("li");return e.onclick=()=>{var t;const n=document.querySelector(".starship-details");!n||(n.innerHTML="",Object.entries(i).map(([s,a])=>{const o=document.createElement("div");o.classList.add("item"),o.innerHTML=`
            <span class="key">${s.replace(/_/g," ")}:</span>
            <span class="value">${a}</span>
            `,n.appendChild(o)}),Array.prototype.slice.call(((t=e.parentElement)==null?void 0:t.children)||[]).forEach(s=>s.classList.remove("active")),e.classList.add("active"))},e.classList.add("starship-item"),e.innerText=i.name,e},E=document.querySelector("#app");E.innerHTML=`
        <h id="title"></h>
        <div id="container"></div>
        <div id="credits">Made with \u{1F493} by <a href="https://github.com/Hesamsrk">Hesamsrk</a></div>
    `;window.addEventListener("load",()=>{_().then(()=>console.log("Website loaded!"))});const _=async()=>{const i=document.getElementById("container"),e=document.getElementById("title");if(!i||!e){alert("Context not loaded!");return}E.appendChild(T({id:"mainLoader"})),await C({container:i,title:e},[4,5,6,1,2,3])},b=(i,e,n)=>{document.querySelectorAll(".Page___class").forEach(s=>s.remove());const t=document.createElement("div");return t.id=e,t.classList.add("Page___class"),n.title.innerText=`${i}:`,t},C=async(i,e)=>{const n=b("Movies","movie-container",i);for(let t of e){const s=await M(t),a=x(s.starships,4);n.appendChild(k(s,async()=>{await m(i,a,0)}))}i.container.appendChild(n)},m=async(i,e,n)=>{const t=b("Starships","starship-container",i);if(console.log({pages:e,page:n}),!e[n]){alert("TER");return}const s=document.createElement("ul");s.classList.add("starship-list");for(let o of e[n]){const r=await $(o);s.appendChild(I(r))}t.appendChild(s);const a=document.createElement("div");a.classList.add("starship-details"),t.appendChild(a),P(t,i,e,n),i.container.appendChild(t)},P=(i,e,n,t)=>{document.querySelectorAll(".starship-navbar").forEach(l=>l.remove());const s=document.createElement("div");s.classList.add("starship-navbar");const a=n[t-1],o=document.createElement("button");o.classList.add("default-button"),o.disabled=!Boolean(a&&a.length>0),o.innerText=o.disabled?"Previous page":`Previous page (${t-1})`,o.onclick=async()=>{await m(e,n,t-1)},s.appendChild(o);const r=document.createElement("button");r.classList.add("default-button"),r.innerText="Movie list",r.onclick=async()=>{await C(e,[4,5,6,1,2,3])},s.appendChild(r);const d=n[t+1],c=document.createElement("button");c.classList.add("default-button"),c.disabled=!Boolean(d&&d.length>0),c.innerText=c.disabled?"Next page":`Next page (${t+1})`,c.onclick=async()=>{console.log(`Loading: ${{pages:n,page:t+1}}`),await m(e,n,t+1)},s.appendChild(c),i.appendChild(s)};
