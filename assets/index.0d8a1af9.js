var h=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(s,e)=>{var n={};for(var t in s)g.call(s,t)&&e.indexOf(t)<0&&(n[t]=s[t]);if(s!=null&&h)for(var t of h(s))e.indexOf(t)<0&&w.call(s,t)&&(n[t]=s[t]);return n};const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};S();const T=({id:s,zIndex:e})=>{const n=document.createElement("div");n.style.display="none",n.style.zIndex=String(e||10),n.classList.add("loader");const t=document.createElement("div");return t.classList.add("inner"),s&&(n.id=s),n.appendChild(t),n},v={Services:{swapi:{baseURL:"https://swapi.dev/api"}}},L=async(s,e)=>{y(!0);const n=await fetch(s,e).then(t=>t.json());return y(!1),n},y=s=>{const e=document.getElementById("mainLoader");if(!e){console.error("Main loader not found!");return}s?e.style.display!=="flex"&&(e.style.display="flex"):e.style.display!=="none"&&(e.style.display="none")},x=(s,e)=>{const n=[];for(;s.length;)n.push(s.splice(0,e));return n},B=/https:\/\/swapi\.dev\/api\/starships\/([0-9]*)\//,M=async s=>L(`${v.Services.swapi.baseURL}/films/${s}`).then(({starships:e,episode_id:n,title:t,release_date:i})=>({starships:e.map(a=>{const o=B.exec(a);if(o)return Number(o[1])}).filter(a=>a!==void 0),episode_id:n,title:t,release_date:i})),$=async s=>L(`${v.Services.swapi.baseURL}/starships/${s}`).then(({name:e,model:n,manufacturer:t,cost_in_credits:i,length:a,max_atmosphering_speed:o,crew:r,passengers:c,cargo_capacity:d})=>({name:e,model:n,manufacturer:t,cost_in_credits:i,length:a,max_atmosphering_speed:o,crew:r,passengers:c,cargo_capacity:d})),k=(t,n)=>{var i=t,{starships:s}=i,e=f(i,["starships"]);const a=document.createElement("div");a.classList.add("movie");const o=(c,d)=>{const l=document.createElement("div");l.classList.add("item");const p=document.createElement("span");p.classList.add("key"),p.innerText=`${c}:`,l.appendChild(p);const u=document.createElement("span");return u.classList.add("value"),u.innerText=String(d),l.appendChild(u),l};a.appendChild(o("Title",e.title)),a.appendChild(o("Episode",String(e.episode_id))),a.appendChild(o("Release date",e.release_date));const r=document.createElement("button");return r.innerText="Show starships",r.classList.add("default-button"),r.onclick=n,a.appendChild(r),a},I=s=>{const e=document.createElement("li");return e.onclick=()=>{var t;const n=document.querySelector(".starship-details");!n||(n.innerHTML="",Object.entries(s).map(([i,a])=>{const o=document.createElement("div");o.classList.add("item"),o.innerHTML=`
            <span class="key">${i.replace(/_/g," ")}:</span>
            <span class="value">${a}</span>
            `,n.appendChild(o)}),Array.prototype.slice.call(((t=e.parentElement)==null?void 0:t.children)||[]).forEach(i=>i.classList.remove("active")),e.classList.add("active"))},e.classList.add("starship-item"),e.innerText=s.name,e},E=document.querySelector("#app");E.innerHTML=`
        <h id="title"></h>
        <div id="container"></div>
        <div id="credits">Made with \u{1F493} by <a href="https://github.com/Hesamsrk">Hesamsrk</a></div>
    `;window.addEventListener("load",()=>{_().then(()=>console.log("Website loaded!"))});const _=async()=>{const s=document.getElementById("container"),e=document.getElementById("title");if(!s||!e){alert("Context not loaded!");return}E.appendChild(T({id:"mainLoader"})),await C({container:s,title:e},[4,5,6,1,2,3])},b=(s,e,n)=>{document.querySelectorAll(".Page___class").forEach(i=>i.remove());const t=document.createElement("div");return t.id=e,t.classList.add("Page___class"),n.title.innerText=`${s}:`,t},C=async(s,e)=>{const n=b("Movies","movie-container",s);for(let t of e){const i=await M(t),a=x(i.starships,4);n.appendChild(k(i,async()=>{await m(s,a,0)}))}s.container.appendChild(n)},m=async(s,e,n)=>{const t=b("Starships","starship-container",s);if(console.log({pages:e,page:n}),!e[n]){alert("TER");return}const i=document.createElement("ul");i.classList.add("starship-list");for(let o of e[n]){const r=await $(o);i.appendChild(I(r))}t.appendChild(i);const a=document.createElement("div");a.classList.add("starship-details"),t.appendChild(a),P(t,s,e,n),s.container.appendChild(t)},P=(s,e,n,t)=>{document.querySelectorAll(".starship-navbar").forEach(l=>l.remove());const i=document.createElement("div");i.classList.add("starship-navbar");const a=n[t-1],o=document.createElement("button");o.classList.add("default-button"),o.disabled=!Boolean(a&&a.length>0),o.innerText=o.disabled?"Previous page":`Previous page (${t-1})`,o.onclick=async()=>{await m(e,n,t-1)},i.appendChild(o);const r=document.createElement("button");r.classList.add("default-button"),r.innerText="Movie list",r.onclick=async()=>{await C(e,[4,5,6,1,2,3])},i.appendChild(r);const c=n[t+1],d=document.createElement("button");d.classList.add("default-button"),d.disabled=!Boolean(c&&c.length>0),d.innerText=d.disabled?"Next page":`Next page (${t+1})`,d.onclick=async()=>{console.log(`Loading: ${{pages:n,page:t+1}}`),await m(e,n,t+1)},i.appendChild(d),s.appendChild(i)};
