var h=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var f=(n,e)=>{var s={};for(var t in n)g.call(n,t)&&e.indexOf(t)<0&&(s[t]=n[t]);if(n!=null&&h)for(var t of h(n))e.indexOf(t)<0&&w.call(n,t)&&(s[t]=n[t]);return s};const S=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}};S();const T=({id:n,zIndex:e})=>{const s=document.createElement("div");s.style.display="none",s.style.zIndex=String(e||10),s.classList.add("loader");const t=document.createElement("div");return t.classList.add("inner"),n&&(s.id=n),s.appendChild(t),s},v={Services:{swapi:{baseURL:"https://swapi.dev/api"}}},L=async(n,e)=>{y(!0);const s=await fetch(n,e).then(t=>t.json());return y(!1),s},y=n=>{const e=document.getElementById("mainLoader");if(!e){console.error("Main loader not found!");return}n?e.style.display!=="flex"&&(e.style.display="flex"):e.style.display!=="none"&&(e.style.display="none")},x=(n,e)=>{const s=[];for(;n.length;)s.push(n.splice(0,e));return s},B=/https:\/\/swapi\.dev\/api\/starships\/([0-9]*)\//,k=async n=>L(`${v.Services.swapi.baseURL}/films/${n}`).then(({starships:e,episode_id:s,title:t,release_date:i})=>({starships:e.map(a=>{const o=B.exec(a);if(o)return Number(o[1])}).filter(a=>a!==void 0),episode_id:s,title:t,release_date:i})),M=async n=>L(`${v.Services.swapi.baseURL}/starships/${n}`).then(({name:e,model:s,manufacturer:t,cost_in_credits:i,length:a,max_atmosphering_speed:o,crew:r,passengers:c,cargo_capacity:d})=>({name:e,model:s,manufacturer:t,cost_in_credits:i,length:a,max_atmosphering_speed:o,crew:r,passengers:c,cargo_capacity:d})),I=(t,s)=>{var i=t,{starships:n}=i,e=f(i,["starships"]);const a=document.createElement("div");a.classList.add("movie");const o=(c,d)=>{const l=document.createElement("div");l.classList.add("item");const p=document.createElement("span");p.classList.add("key"),p.innerText=`${c}:`,l.appendChild(p);const u=document.createElement("span");return u.classList.add("value"),u.innerText=String(d),l.appendChild(u),l};a.appendChild(o("Title",e.title)),a.appendChild(o("Episode",String(e.episode_id))),a.appendChild(o("Release date",e.release_date));const r=document.createElement("button");return r.innerText="Show starships",r.classList.add("default-button"),r.onclick=s,a.appendChild(r),a},_=n=>{const e=document.createElement("li");return e.onclick=()=>{var t;const s=document.querySelector(".starship-details");!s||(s.innerHTML="",Object.entries(n).map(([i,a])=>{const o=document.createElement("div");o.classList.add("item"),o.innerHTML=`
            <span class="key">${i.replace(/_/g," ")}:</span>
            <span class="value">${a}</span>
            `,s.appendChild(o)}),Array.prototype.slice.call(((t=e.parentElement)==null?void 0:t.children)||[]).forEach(i=>i.classList.remove("active")),e.classList.add("active"))},e.classList.add("starship-item"),e.innerText=n.name,e},E=(n,e,s)=>{document.querySelectorAll(".Page___class").forEach(i=>i.remove());const t=document.createElement("div");return t.id=e,t.classList.add("Page___class"),s.title.innerText=`${n}:`,t},b=async(n,e)=>{const s=E("Movies","movie-container",n);for(let t of e){const i=await k(t),a=x(i.starships,4);s.appendChild(I(i,async()=>{await m(n,a,0)}))}n.container.appendChild(s)},m=async(n,e,s)=>{const t=E("Starships","starship-container",n);if(!e[s])return;const i=document.createElement("ul");i.classList.add("starship-list");for(let o of e[s]){const r=await M(o);i.appendChild(_(r))}t.appendChild(i);const a=document.createElement("div");a.classList.add("starship-details"),t.appendChild(a),$(t,n,e,s),n.container.appendChild(t)},$=(n,e,s,t)=>{document.querySelectorAll(".starship-navbar").forEach(l=>l.remove());const i=document.createElement("div");i.classList.add("starship-navbar");const a=s[t-1],o=document.createElement("button");o.classList.add("default-button"),o.disabled=!Boolean(a&&a.length>0),o.innerText=o.disabled?"Previous page":`Previous page (${t-1})`,o.onclick=async()=>{await m(e,s,t-1)},i.appendChild(o);const r=document.createElement("button");r.classList.add("default-button"),r.innerText="Back to Movies",r.onclick=async()=>{await b(e,[4,5,6,1,2,3])},i.appendChild(r);const c=s[t+1],d=document.createElement("button");d.classList.add("default-button"),d.disabled=!Boolean(c&&c.length>0),d.innerText=d.disabled?"Next page":`Next page (${t+1})`,d.onclick=async()=>{await m(e,s,t+1)},i.appendChild(d),n.appendChild(i)},C=document.querySelector("#app");C.innerHTML=`
        <h id="title"></h>
        <div id="container"></div>
        <div id="credits">Made with \u{1F493} by <a href="https://github.com/Hesamsrk">Hesamsrk</a></div>
    `;window.addEventListener("load",()=>{P().then(()=>console.log("Website loaded!"))});const P=async()=>{const n=document.getElementById("container"),e=document.getElementById("title");if(!n||!e){alert("Context not loaded!");return}C.appendChild(T({id:"mainLoader"})),await b({container:n,title:e},[4,5,6,1,2,3])};
