var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var m=(s,e)=>{var i={};for(var n in s)w.call(s,n)&&e.indexOf(n)<0&&(i[n]=s[n]);if(s!=null&&f)for(var n of f(s))e.indexOf(n)<0&&S.call(s,n)&&(i[n]=s[n]);return i};const T=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(t){if(t.ep)return;t.ep=!0;const a=i(t);fetch(t.href,a)}};T();const x=({id:s,zIndex:e})=>{const i=document.createElement("div");i.style.display="none",i.style.zIndex=String(e||10),i.classList.add("loader");const n=document.createElement("div");return n.classList.add("inner"),s&&(i.id=s),i.appendChild(n),i},y={Services:{swapi:{baseURL:"https://swapi.dev/api"}}},L=async(s,e)=>{v(!0);const i=await fetch(s,e).then(n=>n.json());return v(!1),i},v=s=>{const e=document.getElementById("mainLoader");if(!e){console.error("Main loader not found!");return}s?e.style.display!=="flex"&&(e.style.display="flex"):e.style.display!=="none"&&(e.style.display="none")},M=(s,e)=>{const i=[];for(;s.length;)i.push(s.splice(0,e));return i},k=/https:\/\/swapi\.dev\/api\/starships\/([0-9]*)\//,E=async s=>L(`${y.Services.swapi.baseURL}/films/${s}`).then(({starships:e,episode_id:i,title:n,release_date:t})=>({starships:e.map(a=>{const o=k.exec(a);if(o)return Number(o[1])}).filter(a=>a!==void 0),episode_id:i,title:n,release_date:t})),B=/https:\/\/swapi\.dev\/api\/films\/([0-9]*)\//,I=async s=>L(`${y.Services.swapi.baseURL}/starships/${s}`).then(({name:e,model:i,manufacturer:n,crew:t,passengers:a,films:o})=>({name:e,model:i,manufacturer:n,crew:t,passengers:a,films:o.map(r=>{const d=B.exec(r);if(d)return Number(d[1])}).filter(r=>r!==void 0)})),_=(n,i)=>{var t=n,{starships:s}=t,e=m(t,["starships"]);const a=document.createElement("div");a.classList.add("movie");const o=(d,c)=>{const l=document.createElement("div");l.classList.add("item");const p=document.createElement("span");p.classList.add("key"),p.innerText=`${d}:`,l.appendChild(p);const u=document.createElement("span");return u.classList.add("value"),u.innerText=String(c),l.appendChild(u),l};a.appendChild(o("Title",e.title)),a.appendChild(o("Episode",String(e.episode_id))),a.appendChild(o("Release date",e.release_date));const r=document.createElement("button");return r.innerText="Show starships",r.classList.add("default-button"),r.onclick=i,a.appendChild(r),a},$=i=>{var n=i,{films:s}=n,e=m(n,["films"]);const t=document.createElement("li");return t.onclick=()=>{var d;const a=document.querySelector(".starship-details");if(!a)return;a.innerHTML="",Object.entries(e).map(([c,l])=>{const p=document.createElement("div");p.classList.add("item"),p.innerHTML=`
            <span class="key">${c.replace(/_/g," ")}:</span>
            <span class="value">${l}</span>
            `,a.appendChild(p)});const o=document.createElement("div");o.classList.add("item"),o.innerHTML=`
            <span class="key">Films:</span>
            <ul class="value"></ul>
            `;const r=o.querySelector(".value");r&&s.forEach(c=>{E(c).then(l=>{const p=document.createElement("li");p.innerText=l.title,r.appendChild(p)})}),a.appendChild(o),Array.prototype.slice.call(((d=t.parentElement)==null?void 0:d.children)||[]).forEach(c=>c.classList.remove("active")),t.classList.add("active")},t.classList.add("starship-item"),t.innerText=e.name,t},b=(s,e,i)=>{document.querySelectorAll(".Page___class").forEach(t=>t.remove());const n=document.createElement("div");return n.id=e,n.classList.add("Page___class"),i.title.innerText=`${s}:`,n},C=async(s,e)=>{const i=b("Movies","movie-container",s);for(let n of e){const t=await E(n),a=M(t.starships,4);i.appendChild(_(t,async()=>{await h(s,a,0)}))}s.container.appendChild(i)},h=async(s,e,i)=>{const n=b("Starships","starship-container",s);if(!e[i])return;const t=document.createElement("ul");t.classList.add("starship-list");for(let o of e[i]){const r=await I(o);t.appendChild($(r))}n.appendChild(t);const a=document.createElement("div");a.classList.add("starship-details"),n.appendChild(a),N(n,s,e,i),s.container.appendChild(n)},N=(s,e,i,n)=>{document.querySelectorAll(".starship-navbar").forEach(l=>l.remove());const t=document.createElement("div");t.classList.add("starship-navbar");const a=i[n-1],o=document.createElement("button");o.classList.add("default-button"),o.disabled=!Boolean(a&&a.length>0),o.innerText=o.disabled?"Previous page":`Previous page (${n-1})`,o.onclick=async()=>{await h(e,i,n-1)},t.appendChild(o);const r=document.createElement("button");r.classList.add("default-button"),r.innerText="Back to Movies",r.onclick=async()=>{await C(e,[4,5,6,1,2,3])},t.appendChild(r);const d=i[n+1],c=document.createElement("button");c.classList.add("default-button"),c.disabled=!Boolean(d&&d.length>0),c.innerText=c.disabled?"Next page":`Next page (${n+1})`,c.onclick=async()=>{await h(e,i,n+1)},t.appendChild(c),s.appendChild(t)},g=document.querySelector("#app");g.innerHTML=`
        <h id="title"></h>
        <div id="container"></div>
        <div id="credits">Made with \u{1F493} by <a href="https://github.com/Hesamsrk">Hesamsrk</a></div>
    `;window.addEventListener("load",()=>{P().then(()=>console.log("Website loaded!"))});const P=async()=>{const s=document.getElementById("container"),e=document.getElementById("title");if(!s||!e){alert("Context not loaded!");return}g.appendChild(x({id:"mainLoader"})),await C({container:s,title:e},[4,5,6,1,2,3])};
